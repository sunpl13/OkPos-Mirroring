{"version":3,"file":"static/js/2245.f644177c.chunk.js","mappings":"6XAqQA,EAnPoB,SAAHA,GAAsF,IAAjFC,EAAKD,EAALC,MAAOC,EAAOF,EAAPE,QAASC,EAAUH,EAAVG,WAAYC,EAAUJ,EAAVI,WAAYC,EAAYL,EAAZK,aAAcC,EAAoBN,EAApBM,qBAEpEC,GAAWC,EAAAA,EAAAA,MAGjBC,GAA0BC,EAAAA,EAAAA,UAAS,CACjCC,QAAS,EACTC,YAAa,GACbC,KAAM,GACNC,cAAe,GACfC,WAAY,EACZC,YAAa,EACbC,UAAW,GACXC,QAAS,GACTC,WAAY,GACZC,SAAU,GACVC,QAAS,GACTC,aAAc,GACdC,YAAa,GACbC,WAAY,GACZC,SAAU,KACVC,GAAAC,EAAAA,EAAAA,GAAAlB,EAAA,GAhBKmB,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GAkBtBI,GAAsCpB,EAAAA,EAAAA,UAAS,IAAGqB,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,IAGlCG,EAAAA,EAAAA,YAAU,WACJhC,GACF2B,EAAS5B,EAGb,GAAG,CAACC,IAEJ,IAAMiC,EAAa,WACjBF,EAAe,IACf9B,GAAW,EACb,EAIMiC,EAAmB,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAOC,EAAeV,GAAW,IAAAW,EAAAC,EAAAC,EAAA,OAAAN,EAAAA,EAAAA,KAAAO,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAE/BC,EAAAA,EAAUC,QAAQ,CAC1CC,OAAQC,EAAAA,EAAWC,MACnBC,IAAKC,EAAAA,EAASC,gCACdC,KAAM,CACJhB,cAAeA,GAEjBiB,MAAO,CACL3B,YAAaA,KAEf,OATS,GASTW,EAAAI,EAAAa,KAEM,QAXKhB,EAAGD,EAATkB,YAWC,IAAHjB,GAAAA,EAAKkB,UAAU,CAADf,EAAAE,KAAA,QAKhB,OAJiB,QAAX,OAAHL,QAAG,IAAHA,OAAG,EAAHA,EAAKmB,MACPxD,EAAS,UAETyD,MAAS,OAAHpB,QAAG,IAAHA,OAAG,EAAHA,EAAKqB,SACZlB,EAAAmB,OAAA,iBAQwC,OAJ3CrC,GAAS,SAAAD,GAAK,OAAAuC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAASvC,GAAK,IAAEI,YAAaA,GAAW,IAEhDa,EAAYzC,EAAWyC,WAAU,SAAAuB,GAAO,OAAIA,EAAQ1B,gBAAkBA,CAAa,IACzFtC,EAAWyC,GAAWb,YAAcA,EACpC3B,GAAa,SAAAD,GAAU,OAAAiE,EAAAA,EAAAA,GAAQjE,EAAU,IAAE2C,EAAAE,KAAA,GACrC3C,IAAsB,QAC5B0D,MAAS,OAAHpB,QAAG,IAAHA,OAAG,EAAHA,EAAKqB,SAAQlB,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAuB,GAAAvB,EAAA,SAEnBiB,MAAM,6HAA6B,yBAAAjB,EAAAwB,OAAA,GAAA9B,EAAA,mBAEtC,gBAhCwB+B,EAAAC,GAAA,OAAApC,EAAAqC,MAAA,KAAAC,UAAA,KA0DzB,OACEC,EAAAA,EAAAA,MAACC,EAAAA,GAAM,CAACC,KAAK,KAAK5E,QAASA,EAAS6E,QAAS5C,EAAW6C,SAAA,EACtDC,EAAAA,EAAAA,KAACC,EAAAA,GAAY,CAAAF,UACXC,EAAAA,EAAAA,KAACE,EAAAA,GAAW,CAAAH,SAAC,6CAEfJ,EAAAA,EAAAA,MAACQ,EAAAA,GAAU,CAAAJ,SAAA,EACTJ,EAAAA,EAAAA,MAACS,EAAAA,GAAI,CAACC,UAAW,MAAMN,SAAA,EACrBC,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CACTC,GAAI,gBACJC,YAAa,gBACbC,MAAO,KACPzF,MAAO2B,EAAM+D,GACbC,UAAQ,EACRC,UAAQ,KAEVZ,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CACTC,GAAI,cACJC,YAAa,GACbC,MAAO,2BACPzF,MAAO2B,EAAMhB,YACbgF,UAAQ,EACRC,UAAQ,QAGZZ,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CAACC,UAAW,MAAMN,UACrBC,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CACTC,GAAI,WACJC,YAAa,qBACbC,MAAO,qBACPzF,MAAO2B,EAAMkE,SACbF,UAAQ,EACRC,UAAQ,OAGZjB,EAAAA,EAAAA,MAACS,EAAAA,GAAI,CAACC,UAAW,MAAMN,SAAA,EACrBC,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CAACC,GAAI,SAAUC,YAAa,GAAIC,MAAO,2BAAQzF,MAAO2B,EAAMmE,OAAQH,UAAQ,EAACC,UAAQ,KAChGZ,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CAACC,GAAI,WAAYC,YAAa,GAAIC,MAAO,qBAAOzF,MAAO2B,EAAMR,SAAUwE,UAAQ,EAACC,UAAQ,QAErGjB,EAAAA,EAAAA,MAACS,EAAAA,GAAI,CAACC,UAAW,MAAMN,SAAA,EACrBC,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CACTC,GAAI,iBACJC,YAAa,GACbC,MAAO,uCACPzF,MAAO2B,EAAMoE,eACbJ,UAAQ,EACRC,UAAQ,KAEVZ,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CAACC,GAAI,YAAaC,YAAa,GAAIC,MAAO,qBAAOzF,MAAO2B,EAAMX,UAAW2E,UAAQ,EAACC,UAAQ,QAEvGjB,EAAAA,EAAAA,MAACS,EAAAA,GAAI,CAACC,UAAW,MAAMN,SAAA,EACrBC,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CACTC,GAAI,gBACJC,YAAa,GACbC,MAAO,2BACPzF,MAAO2B,EAAMd,cACb8E,UAAQ,EACRC,UAAQ,KAEVZ,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CAACC,GAAI,UAAWC,YAAa,GAAIC,MAAO,qBAAOzF,MAAO2B,EAAMV,QAAS0E,UAAQ,EAACC,UAAQ,QAEnGjB,EAAAA,EAAAA,MAACS,EAAAA,GAAI,CAACC,UAAW,MAAMN,SAAA,EACrBC,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CACTC,GAAI,cACJC,YAAa,GACbC,MAAO,2BACPzF,MAAO2B,EAAMI,YACb4D,UAAQ,EACRC,UAAQ,KAEVZ,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CACTC,GAAI,aACJC,YAAa,GACbC,MAAO,kCACPzF,MAAO2B,EAAMT,WACbyE,UAAQ,EACRC,UAAQ,QAGZjB,EAAAA,EAAAA,MAACS,EAAAA,GAAI,CAACC,UAAW,MAAMN,SAAA,EACrBC,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CACTC,GAAI,cACJC,YAAa,GACbC,MAAO,2BACPzF,OAAOgG,EAAAA,EAAAA,IAAQrE,EAAMZ,aACrB4E,UAAQ,EACRC,UAAQ,KAEVZ,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CACTC,GAAI,aACJC,YAAa,GACbC,MAAO,kCACPzF,OAAOgG,EAAAA,EAAAA,IAAQrE,EAAMb,YACrB6E,UAAQ,EACRC,UAAQ,QAGZjB,EAAAA,EAAAA,MAACS,EAAAA,GAAI,CAACC,UAAW,MAAMN,SAAA,EACrBC,EAAAA,EAAAA,KAACM,EAAAA,EAAU,CACTC,GAAI,gBACJC,YAAa,2BACbC,MAAO,2BACPzF,MAAO2B,EAAMsE,cACbN,UAAQ,EACRC,UAAQ,KAEVZ,EAAAA,EAAAA,KAACkB,EAAAA,GAAO,CAACb,UAAU,2BAA2Bc,MAAM,UAAUtB,KAAK,KAAKuB,QAlHtD,WACxB,GAAS,OAALzE,QAAK,IAALA,GAAAA,EAAOsE,cAAe,CACxB,IAAOA,EAAiBtE,EAAjBsE,cACPI,OAAOC,KAAK,6CAA+CL,EAC7D,MACEI,OAAOC,KAAK,+CAEhB,EA2G2GvB,SAAC,iCAItGC,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CAACC,UAAW,MAAMN,UACrBC,EAAAA,EAAAA,KAACuB,EAAAA,GAAa,CACZhB,GAAG,eACHC,YAAa,4BACbC,MAAM,2BACNe,KAAK,IACLxG,MAAO2B,EAAM8E,aACbd,UAAQ,EACRC,UAAQ,OAGZjB,EAAAA,EAAAA,MAAA,OAAKU,UAAW,wCAAwCN,SAAA,EACtDJ,EAAAA,EAAAA,MAAC+B,EAAAA,GAAW,CAAC1G,MAAO+B,EAAasD,UAAU,0BAA0BR,KAAK,KAAK8B,SAhJ7D,SAAAC,GACxB,IAAO5G,EAAS4G,EAAEC,OAAX7G,MACPgC,EAAehC,EACjB,EA6ImH+E,SAAA,EACzGC,EAAAA,EAAAA,KAAA,UAAAD,SAAQ,2CACRC,EAAAA,EAAAA,KAAA,UAAQhF,MAAM,4BAAO+E,SAAC,+BACtBC,EAAAA,EAAAA,KAAA,UAAQhF,MAAM,4BAAO+E,SAAC,+BACtBC,EAAAA,EAAAA,KAAA,UAAQhF,MAAM,kCAAQ+E,SAAC,qCACvBC,EAAAA,EAAAA,KAAA,UAAQhF,MAAM,qBAAK+E,SAAC,wBACpBC,EAAAA,EAAAA,KAAA,UAAQhF,MAAM,4BAAO+E,SAAC,+BACtBC,EAAAA,EAAAA,KAAA,UAAQhF,MAAM,kCAAQ+E,SAAC,qCACvBC,EAAAA,EAAAA,KAAA,UAAQhF,MAAM,4BAAO+E,SAAC,kCAExBC,EAAAA,EAAAA,KAACkB,EAAAA,GAAO,CAACb,UAAU,UAAUc,MAAM,UAAUtB,KAAK,KAAKuB,QApJrC,WACxB,IAAKrE,EAAa,OAAOgC,MAAM,wEAE/B5B,EAAoBR,EAAMc,cAAeV,GACzCC,EAAe,GACjB,EA+I0F+C,SAAC,iDAKvFC,EAAAA,EAAAA,KAAC8B,EAAAA,GAAY,CAAA/B,UACXC,EAAAA,EAAAA,KAACkB,EAAAA,GAAO,CAACC,MAAM,YAAYC,QAASlE,EAAW6C,SAAC,qBAMxD,ECxKA,EAhFmB,WAEjB,IAAMzE,GAAWC,EAAAA,EAAAA,MAGjBC,GAAmCC,EAAAA,EAAAA,UAAS,IAAGgB,GAAAC,EAAAA,EAAAA,GAAAlB,EAAA,GAAxCL,EAAUsB,EAAA,GAAErB,EAAYqB,EAAA,GAC/BI,GAAwCpB,EAAAA,EAAAA,UAAS,CAAC,GAAEqB,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA7CkF,EAAYjF,EAAA,GAAEkF,EAAelF,EAAA,GACpCmF,GAAkCxG,EAAAA,EAAAA,WAAS,GAAMyG,GAAAxF,EAAAA,EAAAA,GAAAuF,EAAA,GAA1CE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAGxB7G,EAAoB,eAAAN,GAAAsC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAE,EAAAC,EAAA,OAAAL,EAAAA,EAAAA,KAAAO,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAECC,EAAAA,EAAUC,QAAQ,CAC1CC,OAAQC,EAAAA,EAAWiE,IACnB/D,IAAKC,EAAAA,EAAS+D,yBACd,OAHS,GAGT5E,EAAAI,EAAAa,KAEM,QALKhB,EAAGD,EAATkB,YAKC,IAAHjB,GAAAA,EAAKkB,aAAa0D,EAAAA,EAAAA,IAAW,OAAH5E,QAAG,IAAHA,OAAG,EAAHA,EAAK6E,QAAO,CAAA1E,EAAAE,KAAA,QAMxC,OALDyE,QAAQC,IAAI,4BACM,QAAX,OAAH/E,QAAG,IAAHA,OAAG,EAAHA,EAAKmB,MACPxD,EAAS,UAETyD,MAAS,OAAHpB,QAAG,IAAHA,OAAG,EAAHA,EAAKqB,SACZlB,EAAAmB,OAAA,iBAGH7D,EACEuC,EAAI6E,OAAOG,UAAUC,KAAI,SAACC,EAAMC,GAC9B,OAAA5D,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAW2D,GAAI,IAAEnC,GAAI/C,EAAI6E,OAAOG,UAAUI,OAASD,GACrD,KACDhF,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAuB,GAAAvB,EAAA,SAED2E,QAAQC,IAAG5E,EAAAuB,IACXN,MAAM,6HAA6B,yBAAAjB,EAAAwB,OAAA,GAAA9B,EAAA,mBAEtC,kBAzByB,OAAAzC,EAAA0E,MAAA,KAAAC,UAAA,MA4B1BzC,EAAAA,EAAAA,YAAU,WACR5B,GAEF,GAAG,IAUH,OACEsE,EAAAA,EAAAA,MAACS,EAAAA,GAAI,CAAAL,SAAA,EACHC,EAAAA,EAAAA,KAACgD,EAAAA,EAAU,CAACC,MAAM,4CAClBjD,EAAAA,EAAAA,KAACkD,EAAAA,GAAI,CAACC,GAAI,GAAGpD,UACXC,EAAAA,EAAAA,KAACoD,EAAAA,GAAK,CAAC/C,UAAU,OAAMN,UACrBC,EAAAA,EAAAA,KAACqD,EAAAA,GAAS,CAAAtD,UACRC,EAAAA,EAAAA,KAACsD,EAAAA,EAAc,CACbC,MAAOpI,EACPiG,QAbsB,SAAAyB,GAChCb,EAAgBa,GAChBT,GAAcD,EAChB,EAWYqB,QAASC,EAAAA,GACTpD,UAAW,aACXqD,YAAU,WAKlB1D,EAAAA,EAAAA,KAAC2D,EAAW,CACV3I,MAAO+G,EACP9G,QAASkH,EACTjH,WAAYkH,EACZjH,WAAYA,EACZC,aAAcA,EACdC,qBAAsBA,EACtBsF,UAAQ,MAIhB,C","sources":["components/Modal/officialMall/CancelModal.js","pages/officialMall/order/CancelList.js"],"sourcesContent":["import {\n  CButton,\n  CFormSelect,\n  CFormTextarea,\n  CModal,\n  CModalBody,\n  CModalFooter,\n  CModalHeader,\n  CModalTitle,\n  CRow,\n} from '@coreui/react'\nimport {useNavigate} from 'react-router-dom'\nimport ModalInput from '../../forms/inputForm/ModalInput'\nimport {useEffect, useState} from 'react'\nimport {isPrice} from '../../../utils/utility'\nimport ApiConfig, {HttpMethod} from '../../../dataManager/apiConfig'\nimport {EndPoint} from '../../../dataManager/apiMapper'\n\nconst CancelModal = ({value, visible, setVisible, cancelList, setCanelList, onLoadMallCancelList}) => {\n  // 모듈 선언\n  const navigate = useNavigate()\n\n  // Local state 선언\n  const [order, setOrder] = useState({\n    orderId: 0,\n    orderNumber: '',\n    name: '',\n    paymentMethod: '',\n    totalPrice: 0,\n    cancelPrice: 0,\n    orderDate: '',\n    payDate: '',\n    cancelDate: '',\n    receiver: '',\n    address: '',\n    normalNumber: '',\n    phoneNumber: '',\n    totalCount: '',\n    subInfos: [],\n  })\n\n  const [orderStatus, setOrderStatus] = useState('')\n\n  // Life Cycle 선언\n  useEffect(() => {\n    if (visible) {\n      setOrder(value)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [visible])\n\n  const closeModal = () => {\n    setOrderStatus('')\n    setVisible(false)\n  }\n\n  // 함수 선언\n  // Update OrderStatus\n  const onUpdateOrderStatus = async (orderCancelId, orderStatus) => {\n    try {\n      const {data: res} = await ApiConfig.request({\n        method: HttpMethod.PATCH,\n        url: EndPoint.PATCH_MALL_CANCEL_ORDERS_STATUS,\n        path: {\n          orderCancelId: orderCancelId,\n        },\n        query: {\n          orderStatus: orderStatus,\n        },\n      })\n\n      if (!res?.isSuccess) {\n        if (res?.code === 2014) {\n          navigate('/login')\n        } else {\n          alert(res?.message)\n        }\n        return\n      }\n\n      setOrder(order => ({...order, orderStatus: orderStatus}))\n\n      const findIndex = cancelList.findIndex(product => product.orderCancelId === orderCancelId)\n      cancelList[findIndex].orderStatus = orderStatus\n      setCanelList(cancelList => [...cancelList])\n      await onLoadMallCancelList()\n      alert(res?.message)\n    } catch (error) {\n      alert('네트워크 통신 실패. 잠시후 다시 시도해주세요.')\n    }\n  }\n\n  // 주문 상태 값 저장\n  const orderStatusChange = e => {\n    const {value} = e.target\n    setOrderStatus(value)\n  }\n\n  // 주문상태 변경 함수\n  const handleOrderStatus = () => {\n    if (!orderStatus) return alert('주문상태를 선택해주세요.')\n\n    onUpdateOrderStatus(order.orderCancelId, orderStatus)\n    setOrderStatus('')\n  }\n\n  // 송장조회\n  const handleInvoicCheck = () => {\n    if (order?.invoiceNumber) {\n      const {invoiceNumber} = order\n      window.open('https://www.ilogen.com/web/personal/trace/' + invoiceNumber)\n    } else {\n      window.open('https://www.ilogen.com/web/personal/tkSearch')\n    }\n  }\n\n  return (\n    <CModal size='lg' visible={visible} onClose={closeModal}>\n      <CModalHeader>\n        <CModalTitle>취소 상세정보</CModalTitle>\n      </CModalHeader>\n      <CModalBody>\n        <CRow className={'p-2'}>\n          <ModalInput\n            id={'orderCancelId'}\n            placeholder={'orderCancelId'}\n            label={'No'}\n            value={order.no}\n            readOnly\n            disabled\n          />\n          <ModalInput\n            id={'orderNumber'}\n            placeholder={''}\n            label={'주문번호'}\n            value={order.orderNumber}\n            readOnly\n            disabled\n          />\n        </CRow>\n        <CRow className={'p-2'}>\n          <ModalInput\n            id={'itemName'}\n            placeholder={'제품명'}\n            label={'제품명'}\n            value={order.itemName}\n            readOnly\n            disabled\n          />\n        </CRow>\n        <CRow className={'p-2'}>\n          <ModalInput id={'sender'} placeholder={''} label={'보내는이'} value={order.sender} readOnly disabled />\n          <ModalInput id={'receiver'} placeholder={''} label={'수취인'} value={order.receiver} readOnly disabled />\n        </CRow>\n        <CRow className={'p-2'}>\n          <ModalInput\n            id={'orderItemCount'}\n            placeholder={''}\n            label={'주문제품수량'}\n            value={order.orderItemCount}\n            readOnly\n            disabled\n          />\n          <ModalInput id={'orderDate'} placeholder={''} label={'주문일'} value={order.orderDate} readOnly disabled />\n        </CRow>\n        <CRow className={'p-2'}>\n          <ModalInput\n            id={'paymentMethod'}\n            placeholder={''}\n            label={'결제수단'}\n            value={order.paymentMethod}\n            readOnly\n            disabled\n          />\n          <ModalInput id={'payDate'} placeholder={''} label={'결제일'} value={order.payDate} readOnly disabled />\n        </CRow>\n        <CRow className={'p-2'}>\n          <ModalInput\n            id={'orderStatus'}\n            placeholder={''}\n            label={'주문상태'}\n            value={order.orderStatus}\n            readOnly\n            disabled\n          />\n          <ModalInput\n            id={'cancelDate'}\n            placeholder={''}\n            label={'취소 요청일'}\n            value={order.cancelDate}\n            readOnly\n            disabled\n          />\n        </CRow>\n        <CRow className={'p-2'}>\n          <ModalInput\n            id={'cancelPrice'}\n            placeholder={''}\n            label={'취소금액'}\n            value={isPrice(order.cancelPrice)}\n            readOnly\n            disabled\n          />\n          <ModalInput\n            id={'totalPrice'}\n            placeholder={''}\n            label={'총 결제금액'}\n            value={isPrice(order.totalPrice)}\n            readOnly\n            disabled\n          />\n        </CRow>\n        <CRow className={'p-2'}>\n          <ModalInput\n            id={'invoiceNumber'}\n            placeholder={'송장번호'}\n            label={'송장번호'}\n            value={order.invoiceNumber}\n            readOnly\n            disabled\n          />\n          <CButton className='me-md-3 invoiceSearchBtn' color='warning' size='sm' onClick={handleInvoicCheck}>\n            송장조회\n          </CButton>\n        </CRow>\n        <CRow className={'p-2'}>\n          <CFormTextarea\n            id='cancelReason'\n            placeholder={'취소 사유'}\n            label='취소사유'\n            rows='3'\n            value={order.cancelReason}\n            readOnly\n            disabled\n          />\n        </CRow>\n        <div className={'pb-2 d-md-flex justify-content-md-end'}>\n          <CFormSelect value={orderStatus} className='me-md-2 orderStatusForm' size='sm' onChange={orderStatusChange}>\n            <option>주문상태 선택</option>\n            <option value='결제 대기'>결제 대기</option>\n            <option value='결제 완료'>결제 완료</option>\n            <option value='배송 준비중'>배송 준비중</option>\n            <option value='배송중'>배송중</option>\n            <option value='배송 완료'>배송 완료</option>\n            <option value='취소 처리중'>취소 처리중</option>\n            <option value='취소 완료'>취소 완료</option>\n          </CFormSelect>\n          <CButton className='me-md-2' color='success' size='sm' onClick={handleOrderStatus}>\n            주문상태 변경\n          </CButton>\n        </div>\n      </CModalBody>\n      <CModalFooter>\n        <CButton color='secondary' onClick={closeModal}>\n          취소\n        </CButton>\n      </CModalFooter>\n    </CModal>\n  )\n}\n\nexport default CancelModal\n","import React, {useEffect, useState} from 'react'\nimport {useNavigate} from 'react-router-dom'\nimport {CCard, CCardBody, CCol, CRow} from '@coreui/react'\nimport PageHeader from '../../../components/common/PageHeader'\nimport {cancelListColumns} from '../../../utils/columns/officialMall/Columns'\nimport ApiConfig, {HttpMethod} from '../../../dataManager/apiConfig'\nimport {EndPoint} from '../../../dataManager/apiMapper'\nimport {isEmpty} from '../../../utils/utility'\nimport OrderTableList from '../../../components/list/mall/OrderTableList'\nimport CancelModal from '../../../components/Modal/officialMall/CancelModal'\n\nconst CancelList = () => {\n  // 모듈 선언\n  const navigate = useNavigate()\n\n  // Local state 선언\n  const [cancelList, setCanelList] = useState([])\n  const [selectedItem, setSelectedItem] = useState({})\n  const [showModal, setShowModal] = useState(false)\n\n  // API 통신 함수\n  const onLoadMallCancelList = async () => {\n    try {\n      const {data: res} = await ApiConfig.request({\n        method: HttpMethod.GET,\n        url: EndPoint.GET_MALL_CANCEL_ORDERS,\n      })\n\n      if (!res?.isSuccess || isEmpty(res?.result)) {\n        console.log('loadMallCancelList error')\n        if (res?.code === 2014) {\n          navigate('/login')\n        } else {\n          alert(res?.message)\n        }\n        return\n      }\n      setCanelList(\n        res.result.responses.map((item, index) => {\n          return {...item, no: res.result.responses.length - index}\n        }),\n      )\n    } catch (error) {\n      console.log(error)\n      alert('네트워크 통신 실패. 잠시후 다시 시도해주세요.')\n    }\n  }\n\n  // Life Cycle 선언\n  useEffect(() => {\n    onLoadMallCancelList()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  // 함수 선언\n\n  // Open Modal\n  const handleShowUserDetailModal = item => {\n    setSelectedItem(item)\n    setShowModal(!showModal)\n  }\n\n  return (\n    <CRow>\n      <PageHeader title='취소 요청 관리' />\n      <CCol xs={12}>\n        <CCard className='mb-4'>\n          <CCardBody>\n            <OrderTableList\n              items={cancelList}\n              onClick={handleShowUserDetailModal}\n              columns={cancelListColumns}\n              className={'cancelList'}\n              datePicker\n            />\n          </CCardBody>\n        </CCard>\n      </CCol>\n      <CancelModal\n        value={selectedItem}\n        visible={showModal}\n        setVisible={setShowModal}\n        cancelList={cancelList}\n        setCanelList={setCanelList}\n        onLoadMallCancelList={onLoadMallCancelList}\n        readOnly\n      />\n    </CRow>\n  )\n}\n\nexport default CancelList\n"],"names":["_ref","value","visible","setVisible","cancelList","setCanelList","onLoadMallCancelList","navigate","useNavigate","_useState","useState","orderId","orderNumber","name","paymentMethod","totalPrice","cancelPrice","orderDate","payDate","cancelDate","receiver","address","normalNumber","phoneNumber","totalCount","subInfos","_useState2","_slicedToArray","order","setOrder","_useState3","_useState4","orderStatus","setOrderStatus","useEffect","closeModal","onUpdateOrderStatus","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","orderCancelId","_yield$ApiConfig$requ","res","findIndex","wrap","_context","prev","next","ApiConfig","request","method","HttpMethod","PATCH","url","EndPoint","PATCH_MALL_CANCEL_ORDERS_STATUS","path","query","sent","data","isSuccess","code","alert","message","abrupt","_objectSpread","product","_toConsumableArray","t0","stop","_x","_x2","apply","arguments","_jsxs","CModal","size","onClose","children","_jsx","CModalHeader","CModalTitle","CModalBody","CRow","className","ModalInput","id","placeholder","label","no","readOnly","disabled","itemName","sender","orderItemCount","isPrice","invoiceNumber","CButton","color","onClick","window","open","CFormTextarea","rows","cancelReason","CFormSelect","onChange","e","target","CModalFooter","selectedItem","setSelectedItem","_useState5","_useState6","showModal","setShowModal","GET","GET_MALL_CANCEL_ORDERS","isEmpty","result","console","log","responses","map","item","index","length","PageHeader","title","CCol","xs","CCard","CCardBody","OrderTableList","items","columns","cancelListColumns","datePicker","CancelModal"],"sourceRoot":""}