(self.webpackChunkneordinary_template_react_js_admin=self.webpackChunkneordinary_template_react_js_admin||[]).push([[3183],{95538:function(e,n,t){"use strict";var r=t(1413),a=t(29439),s=t(404),i=t(50473),l=t(74912),c=t.n(l),u=t(77106),o=t(79286),d=t(76030),p=t(72791),v=t(78983),h=t(80184);n.Z=function(e){var n=e.image,t=e.onChangeImage,l=e.label,f=e.id,m=e.disabled,b=e.filePath,x=e.isRequired,g=(0,p.useState)(!1),Z=(0,a.Z)(g,2),j=Z[0],y=(Z[1],(0,h.jsxs)("div",{style:{border:"1px solid #d8dbe0",textAlign:"center",width:30},children:[j?(0,h.jsx)(u.Z,{}):(0,h.jsx)(o.Z,{}),(0,h.jsx)("div",{style:{marginTop:8}})]})),k={name:"avatar",listType:"picture",className:"avatar-uploader",showUploadList:!1,disabled:m,image:n,beforeUpload:function(e){var n="image/jpeg"===e.type||"image/png"===e.type;n||window.alert("\uc633\ubc14\ub978 \ud655\uc7a5\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4 (JPG/PNG)");var t=e.size/1024/1024<10;return t||s.ZP.error("\uc0ac\uc774\uc988 \uc6a9\ub7c9 \ucd08\uacfc (10MB)"),n&&t},customRequest:function(e){!function(e){var n=e.file,t=e.onError,r=e.onProgress,a=e.onSuccess;c().config.update({region:"ap-northeast-2",accessKeyId:"AKIAWS5VDTBO4P55EYXT",secretAccessKey:"pzJVhC36B2Kl5RsNmVgthoSjAA4bQL64PwZrS4jM"});var s=new(c().S3),i=n.name.replaceAll(" ",""),l={Bucket:(0,d.DK)(b),Key:i,Body:n,ContentType:n.type};s.putObject(l).on("httpUploadProgress",(function(e){var n=e.loaded,t=e.total;return r({percent:n/t*100})})).promise().then((function(e){a(e.$response)}),(function(e){t(),console.log(e.code),console.log(e.message)}))}(e)},onSuccess:function(e){!function(e){var n=e.request.httpRequest,r=n.body,a=n.endpoint,s=a.protocol,i=a.host,l={uid:e.request.params.Key,name:r.name,status:"done",url:"".concat(s,"//").concat(i).concat(n.path)};t(l.url)}(e)},onRemove:function(e){t("")}};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v.L8,{htmlFor:"".concat(f,"Static"),className:"col-sm-2 col-form-label",children:(0,h.jsx)("span",{className:x?"required":"",children:l||" * "})}),(0,h.jsx)(v.b7,{className:"align-items-center",style:{display:"flex"},children:(0,h.jsx)(i.Z,(0,r.Z)((0,r.Z)({},k),{},{children:n?(0,h.jsx)("img",{src:n,alt:"avatar",style:{width:"100%"}}):y}))})]})}},86711:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return j}});var r=t(4942),a=t(1413),s=t(74165),i=t(15861),l=t(29439),c=t(72791),u=t(78983),o=t(19977),d=t(20961),p=t(46819),v=t(96672),h=t(19311),f=t(46327),m=t(57689),b=(t(763),t(95538)),x=t(3854),g=t(80184),Z=function(e){var n=e.item,t=e.onChange,r=e.onChangeImage,a=e.onUpdate,s=e.onDelete,i=e.visible,l=e.setVisible,c=e.isReadOnly,o=e.setIsReadOnly,d=e.isUpdate,p=e.setIsUpdate,v="\ubc30\ub108 \ucd94\uac00";return d&&(v="\ubc30\ub108 \uc218\uc815"),c&&(v="\ubc30\ub108 \uc0c1\uc138 \ub0b4\uc6a9"),(0,g.jsxs)(u.Tk,{size:"lg",visible:i,onClose:function(){return l(!1)},children:[(0,g.jsx)(u.p0,{children:(0,g.jsx)(u.fl,{children:v})}),(0,g.jsx)(u.sD,{children:(0,g.jsxs)(u.lx,{children:[(0,g.jsx)(u.rb,{className:"p-2",children:(c||d)&&(0,g.jsx)(x.Z,{id:"bannerId",placeholder:"",label:"No",value:n.bannerId||"",readOnly:!0,disabled:!0})}),(0,g.jsx)(u.rb,{className:"p-2",children:(0,g.jsx)(x.Z,{id:"title",placeholder:"\ubc30\ub108 \ud0c0\uc774\ud2c0",label:"\ubc30\ub108 \ud0c0\uc774\ud2c0",value:n.title||"",onChange:t,readOnly:c,disabled:c,isRequired:!0})}),(0,g.jsx)(u.rb,{className:"p-2",children:(0,g.jsx)(x.Z,{id:"subTitle",placeholder:"\uc11c\ube0c \ud0c0\uc774\ud2c0",label:"\uc11c\ube0c \ud0c0\uc774\ud2c0",value:n.subTitle||"",onChange:t,readOnly:c,disabled:c,isRequired:!0})}),(0,g.jsx)(u.rb,{className:"p-2",children:(0,g.jsx)(b.Z,{id:"image",placeholder:"\uc774\ubbf8\uc9c0",label:"\uc774\ubbf8\uc9c0",image:n.image||"",onChangeImage:r,readOnly:c,disabled:c,isRequired:!0})})]})}),(0,g.jsxs)(u.Ym,{children:[!c&&!d&&(0,g.jsx)(u.u5,{onClick:a,color:"primary",children:"\ucd94\uac00"}),d&&(0,g.jsx)(u.u5,{onClick:a,color:"primary",children:"\uc800\uc7a5"}),c&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.u5,{color:c?"primary":"success",onClick:function(){o(!1),p(!0)},children:"\uc218\uc815"}),(0,g.jsx)(u.u5,{onClick:s,color:"danger",children:"\uc0ad\uc81c"})]}),(0,g.jsx)(u.u5,{color:"secondary",onClick:function(){return l(!1)},children:"\ucde8\uc18c"})]})]})},j=function(){var e=(0,m.s0)(),n=(0,c.useState)([]),t=(0,l.Z)(n,2),b=t[0],x=t[1],j=(0,c.useState)({title:"",subTitle:"",image:""}),y=(0,l.Z)(j,2),k=y[0],w=y[1],T=(0,c.useState)(!1),N=(0,l.Z)(T,2),C=N[0],q=N[1],A=(0,c.useState)(!1),I=(0,l.Z)(A,2),S=I[0],_=I[1],R=(0,c.useState)(!1),E=(0,l.Z)(R,2),P=E[0],L=E[1],O=function(){var n=(0,i.Z)((0,s.Z)().mark((function n(){var t,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.Z.request({method:v.w.GET,url:h.l.GET_MALL_BANNERS});case 3:t=n.sent,null!==(r=t.data)&&void 0!==r&&r.isSuccess&&!(0,f.xb)(null===r||void 0===r?void 0:r.result)||(2014===(null===r||void 0===r?void 0:r.code)?e("/login"):alert(null===r||void 0===r?void 0:r.message)),x(r.result.bannerInfos),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),alert("\ub124\ud2b8\uc6cc\ud06c \ud1b5\uc2e0 \uc2e4\ud328. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}(),B=function(){var n=(0,i.Z)((0,s.Z)().mark((function n(t){var r,a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.Z.request({method:v.w.GET,url:h.l.GET_MALL_BANNER,path:{bannerId:t}});case 3:if(r=n.sent,null!==(a=r.data)&&void 0!==a&&a.isSuccess&&!(0,f.xb)(null===a||void 0===a?void 0:a.result)){n.next=8;break}return 2014===(null===a||void 0===a?void 0:a.code)?e("/login"):alert(null===a||void 0===a?void 0:a.message),n.abrupt("return");case 8:a.result.bannerId=t,w(a.result),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),alert("\ub124\ud2b8\uc6cc\ud06c \ud1b5\uc2e0 \uc2e4\ud328. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}(),U=function(){var n=(0,i.Z)((0,s.Z)().mark((function n(t){var r,a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.Z.request({method:v.w.POST,url:h.l.POST_MALL_BANNER,data:{title:t.title,subTitle:t.subTitle,image:t.image}});case 3:if(r=n.sent,null!==(a=r.data)&&void 0!==a&&a.isSuccess){n.next=8;break}return 2014===(null===a||void 0===a?void 0:a.code)?e("/login"):alert(null===a||void 0===a?void 0:a.message),n.abrupt("return");case 8:alert(null===a||void 0===a?void 0:a.message),w(D),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),alert("\ub124\ud2b8\uc6cc\ud06c \ud1b5\uc2e0 \uc2e4\ud328. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}(),M=function(){var n=(0,i.Z)((0,s.Z)().mark((function n(t){var r,a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.Z.request({method:v.w.PATCH,url:h.l.PATCH_MALL_UPDATE_BANNER,data:{bannerId:t.bannerId,title:t.title,subTitle:t.subTitle,image:t.image}});case 3:if(r=n.sent,null!==(a=r.data)&&void 0!==a&&a.isSuccess){n.next=8;break}return 2014===(null===a||void 0===a?void 0:a.code)?e("/login"):alert(null===a||void 0===a?void 0:a.message),n.abrupt("return");case 8:alert(null===a||void 0===a?void 0:a.message),w(t),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),alert("\ub124\ud2b8\uc6cc\ud06c \ud1b5\uc2e0 \uc2e4\ud328. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}(),H=function(){var n=(0,i.Z)((0,s.Z)().mark((function n(t){var r,a;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v.Z.request({method:v.w.PATCH,url:h.l.PATCH_MALL_DELETE_BANNER,path:{bannerId:t}});case 3:r=n.sent,null!==(a=r.data)&&void 0!==a&&a.isSuccess||(2014===(null===a||void 0===a?void 0:a.code)?e("/login"):alert(null===a||void 0===a?void 0:a.message)),alert(null===a||void 0===a?void 0:a.message),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),alert("\ub124\ud2b8\uc6cc\ud06c \ud1b5\uc2e0 \uc2e4\ud328. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}();(0,c.useEffect)((function(){O()}),[]);var D=function(){return{title:"",subTitle:"",image:""}},K=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var n,t,r,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k.bannerId,t=k.title,r=k.subTitle,a=k.image,t){e.next=3;break}return e.abrupt("return",alert("\ubc30\ub108 \ud0c0\uc774\ud2c0\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."));case 3:if(!(t.length>30)){e.next=5;break}return e.abrupt("return",alert("\ubc30\ub108 \ud0c0\uc774\ud2c0\uc744 \uae00\uc790\uc218 \ucd08\uacfc\uc785\ub2c8\ub2e4."));case 5:if(r){e.next=7;break}return e.abrupt("return",alert("\uc11c\ube0c \ud0c0\uc774\ud2c0\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."));case 7:if(a){e.next=9;break}return e.abrupt("return",alert("\uc774\ubbf8\uc9c0\ub97c \ub4f1\ub85d\ud574\uc8fc\uc138\uc694."));case 9:if(!window.confirm("\uc800\uc7a5 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=22;break}if(!n){e.next=17;break}return e.next=13,M(k);case 13:q(!0),_(!1),e.next=20;break;case 17:return e.next=19,U(k);case 19:L(!1);case 20:return e.next=22,O();case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)(u.rb,{children:[(0,g.jsx)(d.Z,{title:"\ubc30\ub108 \uad00\ub9ac"}),(0,g.jsx)(u.b7,{xs:12,children:(0,g.jsxs)(u.xH,{className:"mb-4",children:[(0,g.jsx)(u.bn,{children:(0,g.jsx)(u.lx,{className:"row g-3",children:(0,g.jsx)(u.b7,{xs:1,children:(0,g.jsx)(u.u5,{color:"primary",onClick:function(){w(D),q(!1),_(!1),L(!P)},children:"\ucd94\uac00"})})})}),(0,g.jsx)(u.sl,{children:(0,g.jsx)(o.Z,{items:b,onClick:function(e){B(e.bannerId),q(!0),_(!1),L(!P)},columns:p._y,className:"bannerList",datePickerHidden:!1,searchInputHidden:!1})})]})}),(0,g.jsx)(Z,{item:k,onUpdate:K,onDelete:function(){window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&H(k.bannerId).then(O,L(!1))},onChange:function(e){var n=e.target,t=n.id,s=n.value;w((0,a.Z)((0,a.Z)({},k),{},(0,r.Z)({},t,s)))},onChangeImage:function(e){w((0,a.Z)((0,a.Z)({},k),{},{image:e}))},visible:P,setVisible:L,isReadOnly:C,setIsReadOnly:q,isUpdate:S,setIsUpdate:_})]})}},79286:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(1413),a=t(72791),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},i=t(54291),l=function(e,n){return a.createElement(i.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:s}))};l.displayName="PlusOutlined";var c=a.forwardRef(l)},28022:function(){}}]);
//# sourceMappingURL=3183.d9d55095.chunk.js.map