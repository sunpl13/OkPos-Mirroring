"use strict";(self.webpackChunkneordinary_template_react_js_admin=self.webpackChunkneordinary_template_react_js_admin||[]).push([[1981],{79528:function(e,n,r){var t,l=r(30168),a=r(78983),i=(r(763),r(91191)),s=r(76030),o=r(80184);n.Z=function(e){var n=e.id,r=(e.placeholder,e.files),t=e.label,l=e.isRequired;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.L8,{htmlFor:"".concat(n,"Static"),className:"col-sm-2 col-form-label",children:(0,o.jsx)("span",{className:l?"required":"",children:t||" * "})}),(0,o.jsx)(a.b7,{children:(null===r||void 0===r?void 0:r.length)>0?r.map((function(e,n){var r=e.split("/"),t=r[r.length-1];return(0,o.jsx)("div",{className:"col-form-label",children:(0,o.jsxs)(u,{role:"link",href:(0,s.J0)(e),onClick:function(){return function(e,n){e=(0,s.J0)(e),fetch(e,{method:"GET"}).then((function(e){return e.blob()})).then((function(e){var r=window.URL.createObjectURL(e),t=document.createElement("a");t.href=r,t.download=n,document.body.appendChild(t),t.click(),setTimeout((function(e){window.URL.revokeObjectURL(r)}),6e4),t.remove()})).catch((function(e){console.error("err: ",e)}))}(e,t)},children:[n+1,". ",t]},n)},n)})):(0,o.jsx)("div",{className:"col-form-label",children:"\ub4f1\ub85d\ub41c \ud30c\uc77c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})]})};var u=i.ZP.span(t||(t=(0,l.Z)(["\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  padding: 0 8px;\n  line-height: 1.5714285714285714;\n  flex: auto;\n  transition: all 0.3s;\n  color: #1677ff !important;\n  text-decoration: none;\n  background-color: transparent;\n  outline: none;\n  cursor: pointer;\n"])))},88688:function(e,n,r){var t,l=r(30168),a=r(74165),i=r(1413),s=r(15861),o=r(72791),u=r(66770),c=r.n(u),d=(r(86009),r(78983)),p=r(91191),v=r(80184);n.Z=function(e){var n=e.id,r=e.value,t=e.label,l=e.isRequired,u=e.readOnly,c=void 0!==u&&u,p=e.setValue,h=(0,o.useRef)(),x=function(){var e=document.createElement("input"),n=new FormData,r="";e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.onchange=(0,s.Z)((0,a.Z)().mark((function t(){var l,s,o,u,c,d,p;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=e.files,console.log(l),null===l){t.next=14;break}return n.append("image",l[0]),t.prev=4,u=r=u.data.url,null!==(c=null===(s=h.current)||void 0===s||null===(o=s.getEditor().getSelection())||void 0===o?void 0:o.index)&&void 0!==c&&(null===(p=null===(d=h.current)||void 0===d?void 0:d.getEditor())||void 0===p||p.setSelection(c,1),null===p||void 0===p||p.clipboard.dangerouslyPasteHTML(c,"<img src=".concat(r,' alt="\uc774\ubbf8\uc9c0 \ud0dc\uadf8\uac00 \uc0bd\uc785\ub429\ub2c8\ub2e4." />'))),t.abrupt("return",(0,i.Z)((0,i.Z)({},u),{},{success:!0}));case 11:return t.prev=11,t.t0=t.catch(4),t.abrupt("return",(0,i.Z)((0,i.Z)({},t.t0.response),{},{success:!1}));case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))},b=(0,o.useMemo)((function(){return{toolbar:{container:[["bold","italic","underline","strike","blockquote"],[{size:["small",!1,"large","huge"]},{color:[]}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"},{align:[]}],["image","video"]],handlers:{image:x}}}}),[]);return(0,v.jsxs)(d.b7,{style:{height:"300px"},className:"pb-5",children:[(0,v.jsx)(d.L8,{htmlFor:"".concat(n,"Static"),className:"col-sm-2 col-form-label",children:(0,v.jsx)("span",{className:l&&"required",children:t||" * "})}),(0,v.jsx)(f,{id:n||"",ref:function(e){null!==e&&(h.current=e)},value:r,onChange:p,modules:b,readOnly:c,theme:"snow",placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.",style:{height:"100%"}})]})};var f=(0,p.ZP)(c())(t||(t=(0,l.Z)(["\n  background-color: ",";\n\n  .ql-toolbar {\n    display: ",";\n  }\n"])),(function(e){return e.readOnly?"#d8dbe0":"transparent"}),(function(e){return e.readOnly?"none":"block"}))},11981:function(e,n,r){r.r(n),r.d(n,{default:function(){return j}});var t=r(4942),l=r(1413),a=r(74165),i=r(15861),s=r(29439),o=r(72791),u=r(57689),c=r(78983),d=r(19977),p=r(3854),v=r(79528),f=r(88688),h=r(80184),x=function(e){var n=e.onCreate,r=e.onChange,t=e.onDelete,l=e.inquiryReplyContent,a=e.setInquiryReplyContent,i=e.value,s=e.isReadOnly,o=e.setIsReadOnly,u=e.isUpdate,d=e.setIsUpdate,x=e.visible,b=e.setVisible,m="1:1 \ubb38\uc758 \uc0c1\uc138 \ub0b4\uc6a9";u&&(m="1:1 \ubb38\uc758 \ub2f5\ubcc0 \uc218\uc815"),s&&(m="1:1 \ubb38\uc758 \uc0c1\uc138 \ub0b4\uc6a9");return(0,h.jsxs)(c.Tk,{size:"lg",visible:x,onClose:function(){return b(!1)},children:[(0,h.jsx)(c.p0,{children:(0,h.jsx)(c.fl,{children:m})}),(0,h.jsxs)(c.sD,{children:[(0,h.jsxs)(c.rb,{className:"p-2",children:[(0,h.jsx)(p.Z,{id:"id",placeholder:"inquiryId",label:"No",value:i.inquiryId,readOnly:!0,disabled:!0}),(0,h.jsx)(p.Z,{id:"name",placeholder:"\uc774\ub984",label:"\uc774\ub984",value:i.name,readOnly:!0,disabled:!0})]}),(0,h.jsxs)(c.rb,{className:"p-2",children:[(0,h.jsx)(p.Z,{id:"email",placeholder:"\uc774\uba54\uc77c",label:"\uc774\uba54\uc77c",value:i.email,readOnly:!0,disabled:!0}),(0,h.jsx)(p.Z,{id:"phoneNumber",placeholder:"\ud734\ub300\uc804\ud654\ubc88\ud638",label:"\ud734\ub300\uc804\ud654\ubc88\ud638",value:i.phoneNumber,onChange:r,readOnly:!0,disabled:!0})]}),(0,h.jsx)(c.rb,{className:"p-2",children:(0,h.jsx)(p.Z,{id:"category",placeholder:"\ubb38\uc758 \uc720\ud615",label:"\ubb38\uc758 \uc720\ud615",value:i.category,readOnly:!0,disabled:!0})}),(0,h.jsx)(c.rb,{className:"p-2",children:(0,h.jsx)(v.Z,{id:"files",placeholder:"\ucca8\ubd80\ud30c\uc77c",label:"\ucca8\ubd80\ud30c\uc77c",files:i.files||"",readOnly:!0,disabled:!0})}),(0,h.jsx)(c.rb,{className:"p-2",children:(0,h.jsx)(c.PB,{id:"content",label:"\ubb38\uc758\ub0b4\uc6a9",value:i.content,readOnly:!0,disabled:!0,rows:9})}),(0,h.jsx)(c.rb,{className:"p-2",children:(0,h.jsx)(f.Z,{id:"inquiryReplyContent",value:l||"",isRequired:!0,readOnly:s,setValue:a,label:"\ub2f5\ubcc0"})}),(0,h.jsx)("br",{})]}),(0,h.jsxs)(c.Ym,{children:[s?(0,h.jsx)(c.u5,{color:"success",onClick:function(){o(!1),d(!0)},children:"\uc218\uc815"}):(0,h.jsx)(c.u5,{onClick:function(){return n(i)},color:"primary",children:"\uc800\uc7a5"}),(0,h.jsx)(c.u5,{color:"danger",onClick:function(){return t(i)},children:"\uc0ad\uc81c"}),(0,h.jsx)(c.u5,{color:"secondary",onClick:function(){return b(!1)},children:"\ucde8\uc18c"})]})]})},b=r(20961),m=r(46819),y=r(96672),Z=r(19311),g=r(46327),j=function(){var e=(0,u.s0)(),n=(0,o.useState)([]),r=(0,s.Z)(n,2),p=r[0],v=r[1],f=(0,o.useState)({inquiryId:0,name:"",email:"",category:"",phoneNumber:"",content:"",file:[],inquiryReplyId:null,inquiryReplyContent:""}),j=(0,s.Z)(f,2),k=j[0],w=j[1],q=(0,o.useState)(""),I=(0,s.Z)(q,2),R=I[0],C=I[1],N=(0,o.useState)(!1),L=(0,s.Z)(N,2),_=L[0],O=L[1],S=(0,o.useState)(!1),E=(0,s.Z)(S,2),T=E[0],P=E[1],U=(0,o.useState)(!1),A=(0,s.Z)(U,2),M=A[0],H=A[1],Y=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(){var r,t;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.Z.request({method:y.w.GET,url:Z.l.GET_MALL_INQUIRIES});case 3:if(r=n.sent,null!==(t=r.data)&&void 0!==t&&t.isSuccess&&!(0,g.xb)(null===t||void 0===t?void 0:t.result)){n.next=9;break}return console.log("onLoadMallInquiryList error"),2014===(null===t||void 0===t?void 0:t.code)?e("/login"):alert(null===t||void 0===t?void 0:t.message),n.abrupt("return");case 9:v(t.result.inquiryInfos),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(0),console.log(n.t0),alert("\ub124\ud2b8\uc6cc\ud06c \ud1b5\uc2e0 \uc2e4\ud328. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");case 16:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(){return n.apply(this,arguments)}}(),D=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(r){var t,l;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.Z.request({data:{},query:{},path:{inquiryId:r},method:y.w.GET,url:Z.l.GET_MALL_INQUIRY});case 3:if(t=n.sent,null!==(l=t.data)&&void 0!==l&&l.isSuccess&&!(0,g.xb)(null===l||void 0===l?void 0:l.result)){n.next=9;break}return console.log("onloadMallInquiry error"),2014===(null===l||void 0===l?void 0:l.code)?e("/login"):alert(null===l||void 0===l?void 0:l.message),n.abrupt("return");case 9:return n.next=11,w(l.result);case 11:return n.next=13,C(l.result.inquiryReplyContent);case 13:l.result.inquiryReplyId?P(!0):P(!1),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(0),console.log(n.t0),alert("\ub124\ud2b8\uc6cc\ud06c \ud1b5\uc2e0 \uc2e4\ud328. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");case 20:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(e){return n.apply(this,arguments)}}(),G=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(r,t){var l,i;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.Z.request({method:y.w.POST,url:Z.l.POST_MALL_INQUIRY_REPLY,data:{inquiryId:r,inquiryReplyContent:t}});case 3:return l=n.sent,null!==(i=l.data)&&void 0!==i&&i.isSuccess||2014===(null===i||void 0===i?void 0:i.code)&&e("/login"),alert(null===i||void 0===i?void 0:i.message),n.next=9,D(r);case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert("\ub124\ud2b8\uc6cc\ud06c \ud1b5\uc2e0 \uc2e4\ud328. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,r){return n.apply(this,arguments)}}(),Q=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(r,t){var l,i;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,y.Z.request({method:y.w.PATCH,url:Z.l.PATCH_MALL_UPDATE_INQUIRY_REPLY,data:{inquiryReplyId:r,inquiryReplyContent:t}});case 3:if(l=n.sent,null!==(i=l.data)&&void 0!==i&&i.isSuccess){n.next=8;break}return 2014===(null===i||void 0===i?void 0:i.code)?e("/login"):alert(null===i||void 0===i?void 0:i.message),n.abrupt("return");case 8:alert(null===i||void 0===i?void 0:i.message),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),alert("\ub124\ud2b8\uc6cc\ud06c \ud1b5\uc2e0 \uc2e4\ud328. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e,r){return n.apply(this,arguments)}}(),F=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(r){var t,l,i;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){n.next=17;break}return t=r.inquiryId,n.prev=2,n.next=5,y.Z.request({method:y.w.PATCH,url:Z.l.PATCH_MALL_DELETE_INQUIRY,path:{inquiryId:t}});case 5:return l=n.sent,null!==(i=l.data)&&void 0!==i&&i.isSuccess||(2014===(null===i||void 0===i?void 0:i.code)?e("/login"):alert(null===i||void 0===i?void 0:i.message)),alert(null===i||void 0===i?void 0:i.message),O(!_),n.next=12,Y();case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(2),alert("\ub124\ud2b8\uc6cc\ud06c \ud1b5\uc2e0 \uc2e4\ud328. \uc7a0\uc2dc\ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.");case 17:case"end":return n.stop()}}),n,null,[[2,14]])})));return function(e){return n.apply(this,arguments)}}();(0,o.useEffect)((function(){Y()}),[]);var V=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(n.inquiryId);case 2:return e.next=4,O(!_);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),z=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=k.inquiryId,r=k.inquiryReplyId,n){e.next=3;break}return e.abrupt("return",alert("\ubc88\ud638\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."));case 3:if(r){e.next=5;break}return e.abrupt("return",alert("\ubc88\ud638\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."));case 5:if(R){e.next=7;break}return e.abrupt("return",alert("\ub2f5\ubcc0\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."));case 7:if(!(R.length>300)){e.next=9;break}return e.abrupt("return",alert("\ub2f5\ubcc0 \uae00\uc790 \uc218\ub97c \ucd08\uacfc\ud588\uc2b5\ub2c8\ub2e4."));case 9:if(!window.confirm("\uc800\uc7a5 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=21;break}if(!r){e.next=15;break}return e.next=13,Q(r,R);case 13:e.next=17;break;case 15:return e.next=17,G(n,R);case 17:return e.next=19,Y();case 19:P(!0),H(!1);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(c.rb,{children:[(0,h.jsx)(b.Z,{title:"1 : 1 \ubb38\uc758 \uad00\ub9ac"}),(0,h.jsx)(c.b7,{xs:12,children:(0,h.jsx)(c.xH,{className:"mb-4",children:(0,h.jsx)(c.sl,{children:(0,h.jsx)(d.Z,{items:p,onClick:V,columns:m.Tv,className:"userList",datePickerHidden:!1})})})}),(0,h.jsx)(x,{visible:_,setVisible:O,value:k,onCreate:z,onChange:function(e){var n=e.target,r=n.id,a=n.value;w((0,l.Z)((0,l.Z)({},k),{},(0,t.Z)({},r,a)))},onDelete:F,inquiryReplyContent:R,setInquiryReplyContent:C,isReadOnly:T,setIsReadOnly:P,isUpdate:M,setIsUpdate:H})]})}}}]);
//# sourceMappingURL=1981.4eeb977e.chunk.js.map